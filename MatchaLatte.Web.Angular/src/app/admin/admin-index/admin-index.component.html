<mat-sidenav-container class="sidenav-container">
  <mat-sidenav #drawer class="sidenav" fixedInViewport="true"
      [attr.role]="(isHandset$ | async) ? 'dialog' : 'navigation'"
      [mode]="(isHandset$ | async) ? 'over' : 'side'"
      [opened]="!(isHandset$ | async)">
    <mat-toolbar>Menu</mat-toolbar>
    <mat-nav-list>
      <mat-tree [dataSource]="nestedDataSource" [treeControl]="nestedTreeControl" class="menu-tree">
        <mat-tree-node *matTreeNodeDef="let menu" matTreeNodeToggle>
          <li class="mat-tree-node">
            <a class="menu-item" routerLink="{{menu.url}}" mat-list-item>{{menu.name}}</a>
          </li>
        </mat-tree-node>
        <mat-nested-tree-node *matTreeNodeDef="let menu; when: hasNestedChild">
          <li>
            <a matTreeNodeToggle [attr.aria-label]="'toggle ' + menu.name" mat-list-item>
              <mat-icon color="primary">{{menu.icon}}</mat-icon>
              {{menu.name}}
              <span class="fill-space"></span>
              <mat-icon class="mat-icon-rtl-mirror">
                {{nestedTreeControl.isExpanded(menu) ? 'expand_more' : 'chevron_right'}}
              </mat-icon>
            </a>
            <ul [class.menu-tree-invisible]="!nestedTreeControl.isExpanded(menu)">
              <ng-container matTreeNodeOutlet></ng-container>
            </ul>
          </li>
        </mat-nested-tree-node>
      </mat-tree>
    </mat-nav-list>
  </mat-sidenav>
  <mat-sidenav-content>
    <mat-toolbar color="primary">
      <button
        type="button"
        aria-label="Toggle sidenav"
        mat-icon-button
        (click)="drawer.toggle()"
        *ngIf="isHandset$ | async">
        <mat-icon aria-label="Side nav toggle icon">menu</mat-icon>
      </button>
      <span>my-app</span>
    </mat-toolbar>
    <!-- Add Content Here -->
  </mat-sidenav-content>
</mat-sidenav-container>
